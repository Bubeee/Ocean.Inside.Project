(function(n){function l(){for(var n="",t=0;t<5;t++)n+=Math.ceil(Math.random()*15).toString(16);return n}function u(n,t,i,r,f){n[t]?i.apply(r):(f=f||0,f<1e3&&setTimeout(function(){u(n,t,i,r,f+1)},0))}function o(t){setTimeout(function(){var i=document.createElement("script");i.type="text/javascript";i.src=t||n.fastXDM.helperUrl;u(document,"body",function(){document.getElementsByTagName("HEAD")[0].appendChild(i)})},0)}function f(n,t){var i,r,e,u;switch(typeof n){case"string":i=t?n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):n.replace(/&#039;/g,"'").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&");break;case"object":if(Object.prototype.toString.apply(n)==="[object Array]")for(i=[],r=0,e=n.length;r<e;r++)i[r]=f(n[r],t);else{i={};for(u in n)Object.hasOwnProperty.call(n,u)&&(i[u]=f(n[u],t))}break;default:i=n}return i}function e(n,i){t.loaded?n.apply(i,[t]):r.push([i,n])}function s(){t.loaded=!0;for(var n=0,i=r.length;n<i;n++)r[n][1].apply(r[n][0],[t])}function h(n,t){e(function(i){var r=i.json.parse(n),u,e,o;if(r[0]){for(r[1]||(r[1]=[]),u=0,e=r[1].length;u<e;u++)r[1][u]&&r[1][u]._func?(o=r[1][u]._func,r[1][u]=function(){var n=Array.prototype.slice.call(arguments);n.unshift("_func"+o);t.callMethod.apply(t,n)}):t.options.safe&&(r[1][u]=f(r[1][u],!0));setTimeout(function(){if(!t.methods[r[0]])throw Error("fastXDM: Method "+r[0]+" is undefined");t.methods[r[0]].apply(t,r[1])},0)}})}function c(n,t){for(var i in t)n[i]&&typeof n[i]=="object"?c(n[i],t[i]):n[i]=t[i]}if(!n.fastXDM){var i={},r=[],t={};n.fastXDM={_id:0,helperUrl:"https://vk.com/js/api/xdmHelper.js",Server:function(t,r,u){this.methods=t||{};this.filter=r;this.options=u||{};this.id=n.fastXDM._id++;this.key=l();this.frameName="fXD"+this.key;this.server=!0;this.methods["%init%"]=this.methods.__fxdm_i=function(){n.fastXDM.run(this.id);this.methods.onInit&&this.methods.onInit()};i[this.key]=[h,this]},Client:function(t,r){if(this.methods=t||{},this.options=r||{},this.id=n.fastXDM._id++,this.client=!0,n.fastXDM.run(this.id),window.name.indexOf("fXD")===0)this.key=window.name.substr(3);else throw Error("Wrong window.name property.");this.caller=window.parent;i[this.key]=[h,this];n.fastXDM.on("helper",function(){n.fastXDM.onClientStart(this)},this);e(function(n){n.send(this,n.json.stringify(["%init%"]));var t=this.methods;setTimeout(function(){t.onInit&&t.onInit()},0)},this)},onMessage:function(n){var t=n.data,u,r;if(!t||typeof t!="string"&&!(t instanceof String))return!1;u=t.substr(0,5);i[u]&&(r=i[u][1],r&&(!r.filter||r.filter(n.origin))&&i[u][0](t.substr(6),r))},setJSON:function(n){t.json=n},getJSON:function(n){if(!n)return t.json;e(function(t){n(t.json)})},setEnv:function(n){for(var i in n)t[i]=n[i];s()},_q:{},on:function(n,t,i){this._q[n]||(this._q[n]=[]);this._q[n]==-1?t.apply(i):this._q[n].push([t,i])},run:function(n){for(var i=(this._q[n]||[]).length,t=0;t<i;t++)this._q[n][t][0].apply(this._q[n][t][1]);this._q[n]=-1},waitFor:u};n.fastXDM.Server.prototype.start=function(t,i){if(t.contentWindow){this.caller=t.contentWindow;this.frame=t;n.fastXDM.on("helper",function(){n.fastXDM.onServerStart(this)},this)}else{var r=this;i=i||0;i<50&&setTimeout(function(){r.start.apply(r,[t,i+1])},100)}};n.fastXDM.Server.prototype.destroy=function(){delete i[this.key]};n.fastXDM.Server.prototype.append=function(n,t,i){var u=document.createElement("DIV"),r,f;return u.innerHTML='<iframe name="'+this.frameName+'" '+(i||"")+"><\/iframe>",r=u.firstChild,f=this,setTimeout(function(){r.frameBorder="0";t&&c(r,t);n.insertBefore(r,n.firstChild);f.start(r)},0),r};n.fastXDM.Client.prototype.callMethod=n.fastXDM.Server.prototype.callMethod=function(){for(var o,r,t=Array.prototype.slice.call(arguments),s=t.shift(),i=0,h=t.length;i<h;i++)typeof t[i]=="function"?(this.funcsCount=(this.funcsCount||0)+1,o=t[i],r="_func"+this.funcsCount,this.methods[r]=function(){o.apply(this,arguments);delete this.methods[r]},t[i]={_func:this.funcsCount}):this.options.safe&&(t[i]=f(t[i],!1));u(this,"caller",function(){n.fastXDM.on(this.id,function(){e(function(n){n.send(this,n.json.stringify([s,t]))},this)},this)},this)};n.JSON&&typeof n.JSON=="object"&&n.JSON.parse&&n.JSON.stringify&&n.JSON.stringify({a:[1,2,3]}).replace(/ /g,"")==='{"a":[1,2,3]}'?t.json={parse:n.JSON.parse,stringify:n.JSON.stringify}:n.fastXDM._needJSON=!0;n.postMessage?(t.protocol="p",t.send=function(n,t){var i=n.frame?n.frame.contentWindow:n.caller;if(i)try{i.postMessage(n.key+":"+t,"*")}catch(r){window.postMessage.call(i,n.key+":"+t,"*")}},n.addEventListener?n.addEventListener("message",n.fastXDM.onMessage,!1):n.attachEvent("onmessage",n.fastXDM.onMessage),n.fastXDM._needJSON?(n.fastXDM._onlyJSON=!0,o()):s()):o()}})(window);window.VK||(window.VK={});VK.MD5||(VK.MD5=function(n){var f=function(n,t){var i=(n&65535)+(t&65535),r=(n>>16)+(t>>16)+(i>>16);return r<<16|i&65535},o=function(n,t){return n<<t|n>>>32-t},e=function(n,t,i,r,u,e){return f(o(f(f(t,n),f(r,e)),u),i)},t=function(n,t,i,r,u,f,o){return e(t&i|~t&r,n,t,u,f,o)},i=function(n,t,i,r,u,f,o){return e(t&r|i&~r,n,t,u,f,o)},r=function(n,t,i,r,u,f,o){return e(t^i^r,n,t,u,f,o)},u=function(n,t,i,r,u,f,o){return e(i^(t|~r),n,t,u,f,o)},s=function(n,e){var o=1732584193,s=-271733879,h=-1732584194,c=271733878,a,v,y,p,l,w;for(n[e>>5]|=128<<e%32,n[(e+64>>>9<<4)+14]=e,l=0,w=n.length;l<w;l+=16)a=o,v=s,y=h,p=c,o=t(o,s,h,c,n[l+0],7,-680876936),c=t(c,o,s,h,n[l+1],12,-389564586),h=t(h,c,o,s,n[l+2],17,606105819),s=t(s,h,c,o,n[l+3],22,-1044525330),o=t(o,s,h,c,n[l+4],7,-176418897),c=t(c,o,s,h,n[l+5],12,1200080426),h=t(h,c,o,s,n[l+6],17,-1473231341),s=t(s,h,c,o,n[l+7],22,-45705983),o=t(o,s,h,c,n[l+8],7,1770035416),c=t(c,o,s,h,n[l+9],12,-1958414417),h=t(h,c,o,s,n[l+10],17,-42063),s=t(s,h,c,o,n[l+11],22,-1990404162),o=t(o,s,h,c,n[l+12],7,1804603682),c=t(c,o,s,h,n[l+13],12,-40341101),h=t(h,c,o,s,n[l+14],17,-1502002290),s=t(s,h,c,o,n[l+15],22,1236535329),o=i(o,s,h,c,n[l+1],5,-165796510),c=i(c,o,s,h,n[l+6],9,-1069501632),h=i(h,c,o,s,n[l+11],14,643717713),s=i(s,h,c,o,n[l+0],20,-373897302),o=i(o,s,h,c,n[l+5],5,-701558691),c=i(c,o,s,h,n[l+10],9,38016083),h=i(h,c,o,s,n[l+15],14,-660478335),s=i(s,h,c,o,n[l+4],20,-405537848),o=i(o,s,h,c,n[l+9],5,568446438),c=i(c,o,s,h,n[l+14],9,-1019803690),h=i(h,c,o,s,n[l+3],14,-187363961),s=i(s,h,c,o,n[l+8],20,1163531501),o=i(o,s,h,c,n[l+13],5,-1444681467),c=i(c,o,s,h,n[l+2],9,-51403784),h=i(h,c,o,s,n[l+7],14,1735328473),s=i(s,h,c,o,n[l+12],20,-1926607734),o=r(o,s,h,c,n[l+5],4,-378558),c=r(c,o,s,h,n[l+8],11,-2022574463),h=r(h,c,o,s,n[l+11],16,1839030562),s=r(s,h,c,o,n[l+14],23,-35309556),o=r(o,s,h,c,n[l+1],4,-1530992060),c=r(c,o,s,h,n[l+4],11,1272893353),h=r(h,c,o,s,n[l+7],16,-155497632),s=r(s,h,c,o,n[l+10],23,-1094730640),o=r(o,s,h,c,n[l+13],4,681279174),c=r(c,o,s,h,n[l+0],11,-358537222),h=r(h,c,o,s,n[l+3],16,-722521979),s=r(s,h,c,o,n[l+6],23,76029189),o=r(o,s,h,c,n[l+9],4,-640364487),c=r(c,o,s,h,n[l+12],11,-421815835),h=r(h,c,o,s,n[l+15],16,530742520),s=r(s,h,c,o,n[l+2],23,-995338651),o=u(o,s,h,c,n[l+0],6,-198630844),c=u(c,o,s,h,n[l+7],10,1126891415),h=u(h,c,o,s,n[l+14],15,-1416354905),s=u(s,h,c,o,n[l+5],21,-57434055),o=u(o,s,h,c,n[l+12],6,1700485571),c=u(c,o,s,h,n[l+3],10,-1894986606),h=u(h,c,o,s,n[l+10],15,-1051523),s=u(s,h,c,o,n[l+1],21,-2054922799),o=u(o,s,h,c,n[l+8],6,1873313359),c=u(c,o,s,h,n[l+15],10,-30611744),h=u(h,c,o,s,n[l+6],15,-1560198380),s=u(s,h,c,o,n[l+13],21,1309151649),o=u(o,s,h,c,n[l+4],6,-145523070),c=u(c,o,s,h,n[l+11],10,-1120210379),h=u(h,c,o,s,n[l+2],15,718787259),s=u(s,h,c,o,n[l+9],21,-343485551),o=f(o,a),s=f(s,v),h=f(h,y),c=f(c,p);return[o,s,h,c]},h=function(n){for(var i="",r=-1,f=n.length,t,u;++r<f;)t=n.charCodeAt(r),u=r+1<f?n.charCodeAt(r+1):0,55296<=t&&t<=56319&&56320<=u&&u<=57343&&(t=65536+((t&1023)<<10)+(u&1023),r++),t<=127?i+=String.fromCharCode(t):t<=2047?i+=String.fromCharCode(192|t>>>6&31,128|t&63):t<=65535?i+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|t&63):t<=2097151&&(i+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|t&63));return i},c=function(n){for(var i=Array(n.length>>2),t=0,r=i.length;t<r;t++)i[t]=0;for(t=0,r=n.length*8;t<r;t+=8)i[t>>5]|=(n.charCodeAt(t/8)&255)<<t%32;return i},l=function(n){for(var i="",t=0,r=n.length*32;t<r;t+=8)i+=String.fromCharCode(n[t>>5]>>>t%32&255);return i},a=function(n){return l(s(c(n),n.length*8))},v=function(n){for(var r="0123456789abcdef",u="",t,i=0,f=n.length;i<f;i++)t=n.charCodeAt(i),u+=r.charAt(t>>>4&15)+r.charAt(t&15);return u};return v(a(h(n)))});VK.extend=function(n,t,i){for(var r in t)(i||typeof n[r]=="undefined")&&(n[r]=t[r]);return n};VK._protocol="https:";VK.xdConnectionCallbacks?(setTimeout(function(){for(var n;n=VK.xdConnectionCallbacks.pop();)n()},0),VK.Widgets&&!VK.Widgets._constructor&&(VK.Widgets=!1)):(VK.extend(VK,{version:1,_apiId:null,_session:null,_userStatus:"unknown",_domain:{main:"https://oauth.vk.com/",api:"https://api.vk.com/"},_path:{login:"authorize",proxy:"fxdm_oauth_proxy.html"},_rootId:"vk_api_transport",_nameTransportPath:"",xdReady:!1,access:{FRIENDS:2,PHOTOS:4,AUDIO:8,VIDEO:16,MATCHES:32,QUESTIONS:64,WIKI:128}}),VK.init=function(n){var r,t,i;if(VK._apiId=null,!n.apiId)throw Error("VK.init() called without an apiId");if(VK._apiId=n.apiId,n.onlyWidgets)return!0;n.nameTransportPath&&n.nameTransportPath!==""&&(VK._nameTransportPath=n.nameTransportPath);t=document.getElementById(VK._rootId);t||(t=document.createElement("div"),t.id=VK._rootId,r=document.getElementsByTagName("body")[0],r.insertBefore(t,r.childNodes[0]));t.style.position="absolute";t.style.top="-10000px";i=VK.Cookie.load();i&&(VK.Auth._loadState="loaded",VK.Auth.setSession(i,i?"connected":"unknown"))},VK.Cookie||(VK.Cookie={_domain:null,load:function(){var t=document.cookie.match("\\bvk_app_"+VK._apiId+"=([^;]*)\\b"),n;if(t){if(n=this.decode(t[1]),n.secret!="oauth")return!1;n.expire=parseInt(n.expire,10);VK.Cookie._domain="."+window.location.hostname}return n},setRaw:function(n,t,i,r){var u,f;u="vk_app_"+VK._apiId+"="+n+"";f=r?(new Date).getTime()+r*1e3:t*1e3;u+=n&&t===0?"":"; expires="+new Date(f).toGMTString();u+="; path=/";u+=i?"; domain=."+i:"";document.cookie=u;this._domain=i},set:function(n,t){n?this.setRaw(this.encode(n),n.expire,window.location.hostname,(t||{}).time):this.clear()},clear:function(){this.setRaw("",0,this._domain,0)},encode:function(n){var t=[];for(var i in n)i!="user"&&t.push(encodeURIComponent(i)+"="+encodeURIComponent(n[i]));return t.sort(),t.join("&")},decode:function(n){for(var r={},u=n.split("&"),t,i=0;i<u.length;i++)t=u[i].split("=",2),t&&t[0]&&(r[decodeURIComponent(t[0])]=decodeURIComponent(t[1]));return r}}),VK.Api||(VK.Api={_headId:null,_callbacks:{},ie6_7:function(){return VK.Api.ieTested||(VK.Api.isIE6_7=navigator.userAgent.match(/MSIE [6|7]/i),VK.Api.ieTested=!0),VK.Api.isIE6_7},supportCORS:function(){var n=new XMLHttpRequest;return"withCredentials"in n?!0:typeof XDomainRequest!="undefined"?!0:!1},makeRequest:function(n,t){var i=VK.Api.createRequest("GET",n);return i?(i.onload=function(){var n=i.responseText;if(i.status===200)t(n);else try{console.error("Open api access error",i.response)}catch(r){}},i.onerror=function(){try{console.error("Open api access error")}catch(n){}},i.send(),!0):!1},createRequest:function(n,t){var i=new XMLHttpRequest;return"withCredentials"in i?(i.open(n,t,!0),i.withCredentials=!0):typeof XDomainRequest!="undefined"?(i=new XDomainRequest,i.open(n,t),i.withCredentials=!0):i=null,i},attachScript:function(n){VK.Api._headId||(VK.Api._headId=document.getElementsByTagName("head")[0]);var t=document.createElement("script");t.type="text/javascript";t.setAttribute("encoding","UTF-8");t.src=n;VK.Api._headId.appendChild(t)},checkMethod:function(n,t,i,r){var u=n.toLowerCase(),o,h,e,f,s;return u=="wall.post"||u=="activity.set"?(o=u=="activity.set"?t.text:t.message,o||(o=""),f=VK._protocol+"//vk.com/al_apps.php?act=wall_post_box&widget=4&method="+u+"&aid="+parseInt(VK._apiId,10)+"&text="+encodeURIComponent(o),u=="wall.post"&&(f+="&owner_id="+parseInt(t.owner_id||0,10)+"&attachments="+(t.attachments||t.attachment||"")+"&publish_date="+(t.publish_date||"")),e="_"+Math.random().toString(16).substr(2),f+="&method_access="+e,h=VK.UI.popup({url:f,width:560,height:304}),s=setInterval(function(){VK.UI.active.closed&&(clearInterval(s),t.method_access=e,VK.Api.call(n,t,i,r))},500),!1):u=="messages.allowmessagesfromgroup"?(e="_"+Math.random().toString(16).substr(2),f=VK._protocol+"//vk.com/widget_allow_messages_from_community.php?act=allow_box&group_id="+parseInt(t.group_id,10)+"&app_id="+parseInt(VK._apiId,10)+"&method_access="+e,VK.UI.popup({url:f,width:560,height:304}),s=setInterval(function(){VK.UI.active.closed&&(clearInterval(s),t.method_access=e,VK.Api.call(n,t,i,r))},500),!1):!0},call:function(n,t,i,r){var f=t||{},e,o,h,u,s;if(typeof f!="object"||typeof i!="function")return!1;if(t.method_access||t.method_force||VK.Api.checkMethod(n,t,i,r)){if(r||(r=0),VK.Auth._loadState!="loaded"){h=function(r){r&&r.session&&(VK.Observer.unsubscribe("auth.loginStatus",h),VK.Api.call(n,t,i))};VK.Observer.subscribe("auth.loginStatus",h);VK.Auth.getLoginStatus();return}if(VK.Api.queryLength(f)<1500&&!VK.Api.ie6_7()){for(s=!1,u=parseInt(Math.random()*1e7,10);VK.Api._callbacks[u];)u=parseInt(Math.random()*1e7,10);f.callback="VK.Api._callbacks["+u+"]"}else s=!0;VK._session&&VK._session.sid&&(f.access_token=VK._session.sid);e=VK.Cookie.encode(f);o=function(f){if(f.error&&(f.error.error_code==3||f.error.error_code==4||f.error.error_code==5)){if(r>3)return!1;var e=function(u){VK.Observer.unsubscribe("auth.sessionChange",e);delete t.access_token;u.session&&VK.Api.call(n,t,i,r+1)};VK.Observer.subscribe("auth.sessionChange",e);VK.Auth.getLoginStatus()}else i(f);s||delete VK.Api._callbacks[u]};s?VK.xdReady?VK.XDM.remote.callMethod("apiCall",n,e,o):(VK.Observer.subscribe("xdm.init",function(){VK.XDM.remote.callMethod("apiCall",n,e,o)}),VK.XDM.init()):(VK.Api._callbacks[u]=o,VK.Api.attachScript(VK._domain.api+"method/"+n+"?"+e))}},queryLength:function(n){var t=100;for(var i in n)t+=i.length+encodeURIComponent(n[i]).length+1;return t}},VK.api=function(n,t,i){VK.Api.call(n,t,i)}),VK.Auth||(VK.Auth={popup:null,lsCb:{},setSession:function(n,t,i,r){var e=!VK._session&&n,o=VK._session&&!n,f=VK._session&&n&&VK._session.mid!=n.mid,s=e||o||VK._session&&n&&VK._session.sid!=n.sid,h=t!=VK._userStatus,u={session:n,status:t,settings:i};return VK._session=n,VK._userStatus=t,VK.Cookie.set(n,r),(s||h||f)&&setTimeout(function(){h&&VK.Observer.publish("auth.statusChange",u);(o||f)&&VK.Observer.publish("auth.logout",u);(e||f)&&VK.Observer.publish("auth.login",u);s&&VK.Observer.publish("auth.sessionChange",u)},0),u},login:function(n,t){var i,r,u;if(!VK._apiId)return!1;i=VK._domain.main+VK._path.login+"?client_id="+VK._apiId+"&display=popup&redirect_uri=close.html&response_type=token";t&&parseInt(t,10)>0&&(i+="&scope="+t);VK.Observer.unsubscribe("auth.onLogin");VK.Observer.subscribe("auth.onLogin",n);VK.UI.popup({width:665,height:370,url:i});r=function(){VK.Auth.getLoginStatus(function(n){VK.Observer.publish("auth.onLogin",n);VK.Observer.unsubscribe("auth.onLogin")},!0)};VK.UI.popupOpened=!0;u=function(){if(!VK.UI.popupOpened)return!1;try{if(!VK.UI.active.top||VK.UI.active.closed)return VK.UI.popupOpened=!1,r(),!0}catch(n){return VK.UI.popupOpened=!1,r(),!0}setTimeout(u,100)};setTimeout(u,100)},logout:function(n){VK.Auth.revokeGrants(n)},revokeGrants:function(n){var i=function(t){VK.Observer.unsubscribe("auth.statusChange",i);n&&n(t)},t,r;VK.Observer.subscribe("auth.statusChange",i);VK._session&&VK._session.sid&&(t="https://login.vk.com/?act=openapi&oauth=1&aid="+parseInt(VK._apiId,10)+"&location="+encodeURIComponent(window.location.hostname)+"&do_logout=1&token="+VK._session.sid,VK.Api.supportCORS()?(r=function(){VK.Auth.setSession(null,"unknown")},VK.Api.makeRequest(t+"&new=1",r)):VK.Api.attachScript(t));VK.Cookie.clear()},getSession:function(){return VK._session},getLoginStatus:function(n,t){var r,u,i;if(VK._apiId){if(n)if(t||VK.Auth._loadState!="loaded")VK.Observer.subscribe("auth.loginStatus",n);else{n({status:VK._userStatus,session:VK._session});return}if(t||VK.Auth._loadState!="loading")if(VK.Auth._loadState="loading",r="https://login.vk.com/?act=openapi&oauth=1&aid="+parseInt(VK._apiId,10)+"&location="+encodeURIComponent(window.location.hostname),VK.Api.supportCORS())u=function(n){var i,r;this.JSON||(this.JSON={});n=typeof JSON.parse!="function"?eval(n):JSON.parse(n);VK.Auth._loadState="loaded";n&&n.auth?(i={mid:n.user.id,sid:n.access_token,sig:n.sig,secret:n.secret,expire:n.expire},t&&(i.user=n.user),r="connected"):(i=null,r=n.user?"not_authorized":"unknown",VK.Cookie.clear());VK.Auth.setSession(i,r,!1,n);VK.Observer.publish("auth.loginStatus",{session:i,status:r});VK.Observer.unsubscribe("auth.loginStatus")},VK.Api.makeRequest(r+"&new=1",u);else{for(i=parseInt(Math.random()*1e7,10);VK.Auth.lsCb[i];)i=parseInt(Math.random()*1e7,10);VK.Auth.lsCb[i]=function(n){var r,u;delete VK.Auth.lsCb[i];VK.Auth._loadState="loaded";n&&n.auth?(r={mid:n.user.id,sid:n.access_token,sig:n.sig,secret:n.secret,expire:n.expire},t&&(r.user=n.user),u="connected"):(r=null,u=n.user?"not_authorized":"unknown",VK.Cookie.clear());VK.Auth.setSession(r,u,!1,n);VK.Observer.publish("auth.loginStatus",{session:r,status:u});VK.Observer.unsubscribe("auth.loginStatus")};VK.Api.attachScript(r+"&rnd="+i)}}}}));VK.UI||(VK.UI={active:null,_buttons:[],popup:function(n){var r=typeof window.screenX!="undefined"?window.screenX:window.screenLeft,u=typeof window.screenY!="undefined"?window.screenY:window.screenTop,f=typeof window.outerWidth!="undefined"?window.outerWidth:document.body.clientWidth,e=typeof window.outerHeight!="undefined"?window.outerHeight:document.body.clientHeight-22,t=n.width,i=n.height,o=parseInt(r+(f-t)/2,10),s=parseInt(u+(e-i)/2.5,10),h="width="+t+",height="+i+",left="+o+",top="+s;this.active=window.open(n.url,"vk_openapi",h)},button:function(n){var t="";typeof n=="string"&&(n=document.getElementById(n));this._buttons.push(n);index=this._buttons.length-1;t='<table cellspacing="0" cellpadding="0" id="openapi_UI_'+index+'" onmouseover="VK.UI._change(1, '+index+');" onmouseout="VK.UI._change(0, '+index+');" onmousedown="VK.UI._change(2, '+index+');" onmouseup="VK.UI._change(1, '+index+');" style="cursor: pointer; border: 0px; font-family: tahoma, arial, verdana, sans-serif, Lucida Sans; font-size: 10px;"><tr style="vertical-align: middle"><td><div style="border: 1px solid #3b6798;border-radius: 2px 0px 0px 2px;-moz-border-radius: 2px 0px 0px 2px;-webkit-border-radius: 2px 0px 0px 2px;"><div style="border: 1px solid #5c82ab; border-top-color: #7e9cbc; background-color: #6D8DB1; color: #fff; text-shadow: 0px 1px #45688E; height: 15px; padding: 2px 4px 0px 6px;line-height: 13px;">&#1042;&#1086;&#1081;&#1090;&#1080;<\/div><\/div><\/td><td><div style="background: url('+VK._protocol+'//vk.com/images/btns.png) 0px -42px no-repeat; width: 21px; height: 21px"><\/div><\/td><td><div style="border: 1px solid #3b6798;border-radius: 0px 2px 2px 0px;-moz-border-radius: 0px 2px 2px 0px;-webkit-border-radius: 0px 2px 2px 0px;"><div style="border: 1px solid #5c82ab; border-top-color: #7e9cbc; background-color: #6D8DB1; color: #fff; text-shadow: 0px 1px #45688E; height: 15px; padding: 2px 6px 0px 4px;line-height: 13px;">&#1050;&#1086;&#1085;&#1090;&#1072;&#1082;&#1090;&#1077;<\/div><\/div><\/td><\/tr><\/table>';n.innerHTML=t;n.style.width=n.childNodes[0].offsetWidth+"px"},_change:function(n,t){for(var i,r=document.getElementById("openapi_UI_"+t).rows[0],f=[r.cells[0].firstChild.firstChild,r.cells[2].firstChild.firstChild],u=0;u<2;++u)i=f[u],n===0?(i.style.backgroundColor="#6D8DB1",i.style.borderTopColor="#7E9CBC",i.style.borderLeftColor=i.style.borderRightColor=i.style.borderBottomColor="#5C82AB"):n==1?(i.style.backgroundColor="#7693B6",i.style.borderTopColor="#88A4C4",i.style.borderLeftColor=i.style.borderRightColor=i.style.borderBottomColor="#6088B4"):n==2&&(i.style.backgroundColor="#6688AD",i.style.borderBottomColor="#7495B8",i.style.borderLeftColor=i.style.borderRightColor=i.style.borderTopColor="#51779F");n===0||n==2?r.cells[2].firstChild.style.backgroundPosition="0px -42px":n==1&&(r.cells[2].firstChild.style.backgroundPosition="0px -63px")}});VK.XDM||(VK.XDM={remote:null,init:function(){if(this.remote)return!1;var n=VK._domain.api+VK._path.proxy;this.remote=new fastXDM.Server({onInit:function(){VK.xdReady=!0;VK.Observer.publish("xdm.init")}});this.remote.append(document.getElementById(VK._rootId),{src:n})},xdHandler:function(n){try{eval("VK."+n)}catch(t){}}});VK.Observer||(VK.Observer={_subscribers:function(){return this._subscribersMap||(this._subscribersMap={}),this._subscribersMap},publish:function(n){var r=Array.prototype.slice.call(arguments),n=r.shift(),i=this._subscribers()[n],t,u;if(i)for(t=0,u=i.length;t<u;t++)i[t]!=null&&i[t].apply(this,r)},subscribe:function(n,t){var i=this._subscribers();if(typeof t!="function")return!1;i[n]?i[n].push(t):i[n]=[t]},unsubscribe:function(n,t){var r=this._subscribers()[n],i,u;if(!r)return!1;if(typeof t=="function")for(i=0,u=r.length;i<u;i++)r[i]==t&&(r[i]=null);else delete this._subscribers()[n]}});VK.Widgets||(VK.Widgets={},VK.Widgets.count=0,VK.Widgets.RPC={},VK.Widgets.showBoxUrl=function(n,t){return n=(n||VK._protocol+"//vk.com").replace(/\/?\s*$/,""),t=t.replace(/^\s*\/?/,""),n+"/"+t},VK.Widgets.loading=function(n,t){n.style.background=t?'url("'+VK._protocol+'//vk.com/images/upload.gif") center center no-repeat transparent':"none"},VK.Widgets.Comments=function(n,t,i){var f=VK.Util.getPageData(),u;if(!VK._apiId)throw Error("VK not initialized. Please use VK.init");t=t||{};var c=document.getElementById(n),e={limit:t.limit||10,height:t.height||0,mini:t.mini===undefined?"auto":t.mini,norealtime:t.norealtime?1:0},o=function(){return r.callMethod("mouseUp"),!1},s=function(n){r.callMethod("mouseMove",{screenY:n.screenY})},h,r;return t.browse?(e.browse=1,e.replies=t.replies||0):(u=t.pageUrl||f.url,u.substr(0,1)=="/"&&(u=location.protocol+"//"+location.host+u),VK.extend(e,{page:i||0,status_publish:t.autoPublish===undefined?0:t.autoPublish,attach:t.attach===undefined?"*":t.attach?t.attach:"",url:u,title:t.pageTitle||f.title,description:t.pageDescription||f.description,image:t.pageImage||f.image})),t.onChange&&(VK.Observer.subscribe("widgets.comments.new_comment",t.onChange),VK.Observer.subscribe("widgets.comments.delete_comment",t.onChange)),VK.Widgets._constructor("widget_comments.php",n,t,e,{showBox:function(n){var i=VK.Util.Box(VK.Widgets.showBoxUrl(t.base_domain,n),[],{proxy:function(){r.callMethod.apply(r,arguments)}});i.show()},startDrag:function(){cursorBack=window.document.body.style.cursor;window.document.body.style.cursor="pointer";VK.Util.addEvent("mousemove",s);VK.Util.addEvent("mouseup",o)},stopDrag:function(){window.document.body.style.cursor=cursorBack;VK.Util.removeEvent("mousemove",s);VK.Util.removeEvent("mouseup",o)}},{startHeight:133,minWidth:300},function(n,t,i){h=t;r=i})},VK.Widgets.CommentsBrowse=function(n,t){return t=t||{},t.browse=1,VK.Widgets.Comments(n,t)},VK.Widgets.Recommended=function(n,t){var r=VK.Util.getPageData(),i;if(!VK._apiId)throw Error("VK not initialized. Please use VK.init");return t=t||{},i={limit:t.limit||5,max:t.max||0,sort:t.sort||"friend_likes",verb:t.verb||0,period:t.period||"week",target:t.target||"parent"},VK.Widgets._constructor("widget_recommended.php",n,t,i,{},{startHeight:116+i.limit*47-15,minWidth:150})},VK.Widgets.Post=function(n,t,i,r,u){u=u||{};var h=document.getElementById(n),e={owner_id:t,post_id:i,hash:r||""},s,f,o;return u.preview&&(e.preview=1,delete u.preview),VK.Widgets._constructor("widget_post.php",n,u,e,{showBox:function(n){var t=VK.Util.Box(VK.Widgets.showBoxUrl(u.base_domain,n),[],{proxy:function(){f.callMethod.apply(f,arguments)}});t.show()},startDrag:function(){o=window.document.body.style.cursor;window.document.body.style.cursor="pointer"},stopDrag:function(){window.document.body.style.cursor=o}},{startHeight:90,minWidth:250},function(n,t,i){s=t;f=i})},VK.Widgets.Like=function(n){if(n)return n;var t=[];return n=function(n,i,r){function ut(n){if((h||n)&&e&&u&&e&&(u.style.display=="none"||u.getAttribute("vkhidden")=="yes")){g&&clearTimeout(g);s&&clearTimeout(s);var o=i.getScrollTop?i.getScrollTop():document.body.scrollTop||document.documentElement.scrollTop||0,t=VK.Util.getXY(v,i.fixed),r=d?0:t[1];o>t[1]-120&&i.tooltipPos!="top"||f=="vertical"||i.tooltipPos=="bottom"?(u.style.top=r+p+2+"px",e.callMethod("show",!1,f+"_"+b)):(u.style.top=r-128+"px",e.callMethod("show",!0,f+"_"+b));VK.Util.ss(u,{left:(d?0:t[0])-(f=="full"||f=="button"?32:2)+"px",display:"block",opacity:1,filter:"none"});u.setAttribute("vkhidden","no");h=!0}}function w(n){(!h||n)&&e&&(e.callMethod("hide"),l.callMethod("hide"),g=setTimeout(function(){u.style.display="none"},400))}function ft(){w(!0);o=VK.Util.Box(c.src+"&act=a_stats_box&widget_width=638&from=wlike");o.show()}var y=VK.Util.getPageData(),nt;if(!VK._apiId)throw Error("VK not initialized. Please use VK.init");i=VK.extend(i||{},{allowTransparency:!0});var tt={18:43,20:47,22:51,24:55,30:67},f=i.type=="full"||i.type=="button"||i.type=="vertical"||i.type=="mini"?i.type:"full",it=i.width==="auto"&&(f=="button"||f=="mini"),a=parseInt(i.height,10)||22,b=a&&tt[a]?a:22,k=it?153:f=="full"?Math.max(200,i.width||350):f=="button"?180:f=="mini"?115:tt[b],p=f=="vertical"?2*a+7:a,rt={page:r||0,url:i.pageUrl||y.url,type:f,verb:i.verb==1?1:0,color:i.color||"",title:i.pageTitle||y.title,description:i.pageDescription||y.description,image:i.pageImage||y.image,text:(i.text||"").substr(0,140),h:a},d=i.ttHere||!1,h=!1,g=null,v,c,l,u,e,s,o;return(f=="vertical"||f=="button"||f=="mini")&&delete i.width,it&&(rt.auto_width=1),nt=VK.Widgets._constructor("widget_like.php",n,i,rt,{initTooltip:function(n){e=new fastXDM.Server({onInit:n?function(){ut()}:function(){},proxy:function(){l.callMethod.apply(l,arguments)},showBox:function(n,t){var r=VK.Util.Box(VK.Widgets.showBoxUrl(i.base_domain,n),[t.width,t.height],{proxy:function(){e.callMethod.apply(e,arguments)}});r.show()},statsBox:ft},!1,{safe:!0});u=e.append(d?v:document.body,{src:c.src+"&act=a_like_tooltip",scrolling:"no",allowTransparency:!0,id:c.id+"_tt",style:{position:"absolute",padding:0,display:"none",opacity:.01,filter:"alpha(opacity=1)",border:"0",width:"274px",height:"130px",zIndex:5e3,overflow:"hidden"}});u.setAttribute("vkhidden","yes");u.onmouseover=function(){clearTimeout(s);h=!0};u.onmouseout=function(){clearTimeout(s);h=!1;s=setTimeout(function(){w()},200)}},statsBox:ft,showTooltip:ut,hideTooltip:w,destroy:function(){l.destroy();try{c.src="about: blank;"}catch(n){}if(c.parentNode.removeChild(c),u){try{u.src="about: blank;"}catch(n){}u.parentNode.removeChild(u)}if(e&&e.destroy(),o){if(o.iframe){try{o.iframe.src="about: blank;"}catch(n){}o.iframe.parentNode.removeChild(o.iframe)}o.rpc&&o.rpc.destroy()}},showBox:function(n){var t=VK.Util.Box(VK.Widgets.showBoxUrl(i.base_domain,n),[],{proxy:function(){l.callMethod.apply(l,arguments)}});t.show()},proxy:function(){e&&e.callMethod.apply(e,arguments)}},{startHeight:p,minWidth:k},function(n,t,i){l=i;VK.Util.ss(v=n,{height:p+"px",width:k+"px",position:"relative",clear:"both"});VK.Util.ss(c=t,{height:p+"px",width:k+"px",overflow:"hidden",zIndex:150});v.onmouseover=function(){clearTimeout(s);h=!0};v.onmouseout=function(){clearTimeout(s);h=!1;s=setTimeout(function(){w()},200)}}),t.push(nt),nt},n.destroyAll=function(){for(var n=null;t[0];)n=VK.Widgets.RPC[t.pop()],n&&n.methods.destroy()},n}(VK.Widgets.Like),VK.Widgets.Poll=function(n,t,i){var r=VK.Util.getPageData(),u;if(!i)throw Error("No poll id passed");return t=t||{},u={poll_id:i,url:t.pageUrl||r.url||location.href,title:t.pageTitle||r.title,description:t.pageDescription||r.description},VK.Widgets._constructor("al_widget_poll.php",n,t,u,{},{startHeight:144,minWidth:300})},VK.Widgets.Community=VK.Widgets.Group=function(n,t,i){function o(){return u.callMethod("mouseUp"),!1}function s(n){return u.callMethod("mouseMove",{screenY:n.screenY}),!1}var r,f,u,e;if(i=parseInt(i,10),!i)throw Error("No group_id passed");return t.mode=parseInt(t.mode,10).toString(),r={gid:i,mode:t.mode?t.mode:"0"},f=t.mode==3?185:t.mode==1?141:t.height|0||290,t.wall&&(r.wall=t.wall),r.color1=t.color1||"",r.color2=t.color2||"",r.color3=t.color3||"",r.class_name=t.class_name||"",t.no_head&&(r.no_head=1),t.no_cover&&(r.no_cover=1),t.wide&&(r.wide=1,(!t.width||t.width<300)&&(t.width=300)),!t.width|0&&(t.width=200),VK.Widgets._constructor("widget_community.php",n,t,r,{showBox:function(n){var i=VK.Util.Box(VK.Widgets.showBoxUrl(t.base_domain,n),[],{proxy:function(){u.callMethod.apply(u,arguments)}});i.show()},startDrag:function(){e=window.document.body.style.cursor;window.document.body.style.cursor="pointer";VK.Util.addEvent("mousemove",s);VK.Util.addEvent("mouseup",o)},stopDrag:function(){window.document.body.style.cursor=e;VK.Util.removeEvent("mousemove",s);VK.Util.removeEvent("mouseup",o)},auth:function(){VK.Auth.login(null,1)}},{minWidth:120,startHeight:f},function(n,t,i){u=i})},VK.Widgets.Auth=function(n,t){var i=VK.Util.getPageData();if(!VK._apiId)throw Error("VK not initialized. Please use VK.init");return t.width||(t.width=200),type=t.type?1:0,VK.Widgets._constructor("widget_auth.php",n,t,{},{makeAuth:function(n){var i,u,r;if(n.session&&(VK.Auth._loadState="loaded",VK.Auth.setSession(n.session,"connected"),VK.Observer.publish("auth.loginStatus",{session:n.session,status:"connected"}),VK.Observer.unsubscribe("auth.loginStatus")),t.onAuth)t.onAuth(n);else{i=t.authUrl?t.authUrl:window.location.href;i+=i.indexOf("?")==-1?"?":"&";u=[];for(r in n)r!="session"&&u.push(r+"="+decodeURIComponent(n[r]).replace(/&/g,"%26").replace(/\#/g,"%23").replace(/\?/,"%3F"));window.location.href=i+u.join("&")}}},{startHeight:134})},VK.Widgets.Subscribe=function(n,t,i){if(i=parseInt(i,10),!i)throw Error("No owner_id passed");var r={oid:i},u;return t.mode&&(r.mode=t.mode),t.soft&&(r.soft=t.soft),VK.Widgets._constructor("widget_subscribe.php",n,t,r,{showBox:function(n){var i=VK.Util.Box(VK.Widgets.showBoxUrl(t.base_domain,n),[],{proxy:function(){u.callMethod.apply(u,arguments)}});i.show()},auth:function(){VK.Auth.login(null,1)}},{minWidth:220,startHeight:22},function(n,t,i){u=i})},VK.Widgets.ContactUs=function(n,t,i){if(i=parseInt(i,10),t||(t={}),!i)throw Error("No group or user id passed");var r={oid:i,height:{18:18,20:20,22:22,24:24,30:30}[parseInt(t.height,10)||24],text:(t.text||"").substr(0,140)},u;return VK.Widgets._constructor("widget_contactus.php",n,t,r,{},{startHeight:r.height,height:r.height},function(n,t,i){u=i})},VK.Widgets.Playlist=function(n,t,i,r,u){var f={oid:parseInt(t,10),pid:parseInt(i,10),hash:r||""},e;if(u||(u={}),!f.oid)throw Error("No owner id passed");if(!f.pid)throw Error("No playlist id passed");return VK.Widgets._constructor("widget_playlist.php",n,u,f,{showBox:function(n){var t=VK.Util.Box(VK.Widgets.showBoxUrl(u.base_domain,n),[],{proxy:function(){e.callMethod.apply(e,arguments)}});t.show()}},{minWidth:200},function(n,t,i){e=i})},VK.Widgets.Ads=function(n,t,i){function p(n){VK.Widgets.loading(u,!0);b(n)}function w(n,i){VK.Widgets.loading(u,!1);k(i);t.onAdsReady&&t.onAdsReady.apply(t.onAdsReady,Array.prototype.slice.call(arguments));d(n)}function b(n){if("vk__adsLight"in window){if(window.vk__adsLight&&vk__adsLight.userHandlers&&vk__adsLight.userHandlers.onInit)vk__adsLight.userHandlers.onInit(!1)}else{window.vk__adsLight=!1;n=parseInt(n);var i=VK.Api&&VK.Api.attachScript||VK.addScript,r=t.base_domain||VK._protocol+"//vk.com";i(r+"/js/al/aes_light.js?"+n)}}function k(n){var t,i;if(n)for(t in n)i=n[t],t==="ads_ad_unit_width"||t==="ads_ad_unit_height"?t in r||(f[t]=parseInt(i)||i==="auto"&&r[t+"_auto"]||e[t]):t in f||(f[t]=i)}function d(n){var t=g(f.ads_handler,n);if(n<=0&&t!==!0){try{console.log("VK: ad_unit_id = "+r.ads_ad_unit_id,", errorCode = ",n)}catch(i){}nt(f.ads_handler_empty_html,f.ads_ad_unit_width,f.ads_ad_unit_height)}}function g(n){function s(n){return Object.prototype.toString.call(n)==="[object Function]"}function c(n){return Object.prototype.toString.call(n)==="[object String]"}var u=!1,t,f,i,e,r,o;try{if(!n)return!1;if(t=!1,s(n))t=n;else if(c(n)){for(f=n.split("."),t=window,i=0,e=f.length;i<e;i++)if(t=t[f[i]],!t)break;t||(n.substr(0,8)==="function"&&(n="return "+n+";"),r=new Function(n)(),s(r)?t=r:u=r)}t&&(o=Array.prototype.slice.call(arguments,1),u=t.apply(t,o))}catch(h){try{console.error(h)}catch(l){}}return u}function nt(n,t,i){function e(){if(!i)try{var t=r.contentWindow.document.body.firstChild.getBoundingClientRect(),n=Math.ceil(t.bottom-t.top);n&&(r.style.height=n,u.style.height=n)}catch(f){}}if(n&&u){t=t?t+"px":"";i=i?i+"px":"";var f='<html><head><\/head><body style="padding: 0; margin: 0;"><div>'+n+"<\/div><\/body><\/html>",r=document.createElement("iframe");r.onload=e;r.id=(a?a.id:"vkwidget-"+Math.round(Math.random()*1e6))+"_ads_html_handler";r.src="about:blank";r.width="100%";r.height="100%";r.scrolling="no";r.frameBorder="0";r.allowTransparency=!0;r.style.overflow="hidden";r.style.width=t;r.style.height=i;u.style.width=t;u.style.height=i;u.appendChild(r);r.contentWindow.vk_ads_html_handler=f;r.src='javascript:window["vk_ads_html_handler"]'}}function tt(n,t,i){for(var r=i||0,u=(n||[]).length;r<u;r++)if(n[r]==t)return r;return-1}function it(n,t){return tt(t,n)!=-1}function rt(n,t,i){u=n;a=t;y=i}var o,v,s;t=t||{};i=i||{};var h={},c={},l={},u=document.getElementById(n),a,y,r={},f={},e={};for(o in i)v=it(o,["hash"])?o:"ads_"+o,r[v]=i[o];return u&&u.getBoundingClientRect&&(u.style.width="100%",u.style.height="100%",s=u.getBoundingClientRect(),u.style.width="",u.style.height="",r.ads_ad_unit_width_auto=Math.floor(s.right-s.left),r.ads_ad_unit_height_auto=Math.floor(s.bottom-s.top)),e.ads_ad_unit_width=100,e.ads_ad_unit_height=100,f.ads_ad_unit_width=parseInt(r.ads_ad_unit_width)||r.ads_ad_unit_width==="auto"&&r.ads_ad_unit_width_auto||e.ads_ad_unit_width,f.ads_ad_unit_height=parseInt(r.ads_ad_unit_height)||r.ads_ad_unit_height==="auto"&&r.ads_ad_unit_height_auto||e.ads_ad_unit_height,r.ads_handler&&(f.ads_handler=r.ads_handler),r.ads_handler_empty_html&&(f.ads_handler_empty_html=r.ads_handler_empty_html),delete r.ads_handler,delete r.ads_handler_empty_html,h.act="ads_web",h.url=location.href,VK.extend(h,r),t.noDefaultParams=!0,t.width=f.ads_ad_unit_width,t.allowTransparency=!0,c.startHeight=f.ads_ad_unit_height,c.minWidth=f.ads_ad_unit_width,l.adsOnInitLoader=p,l.adsOnInit=w,VK.Widgets._constructor("ads_rotate.php",n,t,h,l,c,rt)},VK.Widgets.AllowMessagesFromCommunity=function(n,t,i){if(i=parseInt(i,10),t||(t={}),!i||i<0)throw Error("No group id passed");var r={height:{22:22,24:24,30:30}[parseInt(t.height,10)||24],key:t.key?t.key.substr(0,256):"",group_id:i},u;return VK.Widgets._constructor("widget_allow_messages_from_community.php",n,t,r,{},{startHeight:r.height,height:r.height},function(n,t,i){u=i})},VK.Widgets.CommunityMessages=function(n){function o(n){return window.localStorage?localStorage.getItem("vk_community_widget_"+n):null}function s(n,t){window.localStorage&&localStorage.setItem("vk_community_widget_"+n,t)}function h(n){window.localStorage&&localStorage.removeItem("vk_community_widget_"+n)}if(n)return n;var i={},t={},r={no_button:{width:0,height:0},blue_circle:{width:50,height:50,margin:{bottom:20}}},f="blue_circle",u={left:{bottom:0,left:20},right:{bottom:0,right:20}},e="right";return n=function(c,l,a){function et(n){clearTimeout(t.titleTimer);t.titleTimer=setTimeout(function(){document.title=t.changeTitleMode==1?t.oldTitle||"":t.title;t.changeTitleMode=t.changeTitleMode==1?0:1;et()},n?0:1500)}function g(){a.disableTitleChange||(clearTimeout(t.titleTimer),t.oldTitle?document.title=t.oldTitle:t.oldTitle===null&&(document.title=""),t.title="")}function ft(){var n=document.getElementById(c),t=n.getElementsByTagName("iframe")[0];n.style.width=t.width="372px";n.style.height=t.height="399px";n.style.margin="0px 0px 0px 0px"}function nt(){var n=document.getElementById(c),t=n.getElementsByTagName("iframe")[0],i=r[p],f=i.width+it[0],e=Math.max(i.height,it[1]),u;n.style.width=f+"px";n.style.height=e+"px";t.style.boxShadow="none";u=i.margin?i.margin:{};n.style.margin="0px "+(u.right||0)+"px "+(u.bottom||0)+"px 0px";t&&(t.width=f,t.height=e)}function ot(n){w=n;Object.keys(u).indexOf(w)==-1&&(w=e);st();tt("changeButtonPosition",w)}function st(){var t=document.getElementById(c),i,r,n;if(t){i=["left","right","top","bottom"];for(n in i)t.style[i[n]]="";r=u[w];for(n in r)t.style[n]=r[n]+"px";rt&&(k?ft():nt())}}function tt(){b&&b.callMethod.apply(b,arguments)}function ht(n){n&&Object.prototype.toString.call(n)==="[object Object]"||(n={});n.welcomeScreen==undefined&&(n.welcomeScreen=a.welcomeScreen);clearTimeout(ut.showTimer);tt("expand",n)}function ct(){tt("minimize")}function lt(){g();n.destroy(c)}var v,p,b,d,rt,ut;a=a||{};a.width=300;a.height=399;a.base_domain||(a.base_domain=a.base_domain||VK._protocol+"//vk.com");a.expandTimeout=parseInt(a.expandTimeout)||0;v={gid:l};a.expanded=parseInt(a.expanded)||0;(!a.from_dev&&o("expanded")!=null||a.expanded)&&(a.shown=1);a.shown&&(v.shown=1);a.welcomeScreen||(v.disable_welcome_screen=1);p=a.buttonType;Object.keys(r).indexOf(p)==-1&&(p=f);p=="no_button"&&(a.disableButtonTooltip=1);a.disableButtonTooltip&&(v.disable_tooltip=1);a.tooltipButtonText&&(v.tooltip_text=a.tooltipButtonText);a.disableNewMessagesSound&&(v.disable_new_messages_sound=1);i[c]&&n.destroy(c);v.domain=document.domain;a.no_loading=1;var y=!1,k=0,it=[0,0],w;return ot(a.widgetPosition),v.button_position=a.widgetPosition,rt=0,ut={},i[c]=VK.Widgets._constructor("widget_community_messages.php",c,a,v,{onStartLoading:function(){var n=document.getElementById(c);n.style.position="fixed";n.style["z-index"]=1e4;st()},onReady:function(){rt=1;a.expandTimeout>0&&!a.shown&&(ut.showTimer=setTimeout(function(){ht({playSong:!a.disableExpandChatSound,noSaveState:1})},a.expandTimeout))},showBox:function(n){if(y)try{y.hide();try{y.iframe.src="about: blank;"}catch(t){}y.iframe.parentNode.removeChild(y.iframe)}catch(t){}y=VK.Util.Box(VK.Widgets.showBoxUrl(a.base_domain,n),[],{proxy:function(){rpc.callMethod.apply(rpc,arguments)}});y.show()},setTooltipSize:function(n){it=n;k||nt()},expand:function(n){n=n||{};k=1;ft();n.noSaveState||s("expanded",1)},minimize:function(){setTimeout(function(){k=0;nt(c);h("expanded")},120)},canNotWrite:function(n){a.onCanNotWrite&&a.onCanNotWrite(n)},destroy:function(){b.destroy();try{d.src="about: blank;"}catch(n){}try{d.parentNode.removeChild(d)}catch(n){}},fatalError:function(t,i){var r={code:t,widget:2,public_id:i},u,f,e;t==1903&&(r.referrer_domain=document.domain);u=[];for(f in r)u.push(f+"="+r[f]);n.destroy(c);e=VK.Util.Box(VK.Widgets.showBoxUrl(a.base_domain,"blank.php?"+u.join("&")));e.show()},setPageTitle:function(n){a.disableTitleChange||(g(),t.oldTitle=document.title||null,t.title=n,t.changeTitleMode=0,et(1))},resetPageTitle:function(){g()},newMessage:function(){!document.hasFocus||document.hasFocus()||a.disableNewMessagesSound||tt("playNewMsgSong")}},{},function(n,t,i){b=i;d=t;a.shown?ft():nt()}),{expand:ht,minimize:ct,destroy:lt,changeButtonPosition:ot,stopTitleAnimation:g}},n.destroy=function(n){if(i[n]){var t=VK.Widgets.RPC[i[n]];t&&t.methods.destroy();delete i[n]}},n.expand=function(n){console.log(i[n])},n}(VK.Widgets.CommunityMessages),VK.Widgets._constructor=function(n,t,i,r,u,f,e,o,s){var h=document.getElementById(t),y,a,v,w,b,c,k,l,p;if(o=o||++VK.Widgets.count,!h){if(s=s||0,s>10)throw Error("VK.Widgets: object #"+t+" not found.");return setTimeout(function(){VK.Widgets._constructor(n,t,i,r,u,f,e,o,s+1)},500),o}i=i||{};f=f||{};u=u||{};k=i.base_domain||VK._protocol+"//vk.com";l=i.width==="auto"?(h.clientWidth||h.offsetWidth||f.minWidth)|0:parseInt(i.width||0,10);l=l?Math.max(f.minWidth||200,Math.min(f.maxWidth||1e4,l))+"px":"100%";h.style.width=l;i.height?(r.height=i.height,h.style.height=i.height+"px"):h.style.height=(f.startHeight||200)+"px";l==="100%"&&(r.startWidth=(h.clientWidth||h.offsetWidth)|0);r.url||(r.url=i.pageUrl||location.href.replace(/#.*$/,""));y=k+"/"+n;a="";i.noDefaultParams||(a+="&app="+(VK._apiId||"0")+"&width="+encodeURIComponent(l));a+="&_ver="+VK.version;VK._iframeAppWidget&&(r.iframe_app=1);p=VK.Util.getPageData();r.url=r.url||p.url||"";r.referrer=r.referrer||document.referrer||"";r.title=r.title||p.title||document.title||"";for(c in r){if(c=="title"&&r[c].length>80&&(r[c]=r[c].substr(0,80)+"..."),c=="description"&&r[c].length>160&&(r[c]=r[c].substr(0,160)+"..."),typeof r[c]=="number")v=r[c];else try{v=encodeURIComponent(r[c])}catch(d){v=""}a+="&"+c+"="+v}return a+="&"+(+new Date).toString(16),y+="?"+a.substr(1),u.onStartLoading&&u.onStartLoading(),i.no_loading||VK.Widgets.loading(h,!0),u.showLoader=function(n){VK.Util.Loader(n)},u.publish=function(){var n=Array.prototype.slice.call(arguments);n.push(o);VK.Observer.publish.apply(VK.Observer,n)},u.onInit=function(){VK.Widgets.loading(h,!1);u.onReady&&u.onReady();i.onReady&&i.onReady()},u.resize=function(n){h.style.height=n+"px";var t=document.getElementById("vkwidget"+o);t&&(t.style.height=n+"px")},u.resizeWidget=function(n,t){n=parseInt(n);t=parseInt(t);var r=document.getElementById("vkwidget"+o);isFinite(n)&&(h.style.width=n+"px",r&&(r.style.width=n+"px"));isFinite(t)&&(h.style.height=t+"px",r&&(r.style.height=t+"px"));i.onResizeWidget&&i.onResizeWidget()},u.updateVersion=function(n){n>1&&VK.Api.attachScript("//vk.com/js/api/openapi_update.js?"+parseInt(n))},w=VK.Widgets.RPC[o]=new fastXDM.Server(u,function(n){return n?(n=n.toLowerCase(),n.match(/(\.|\/)vk\.com($|\/|\?)/)):!0},{safe:!0}),b=VK.Widgets.RPC[o].append(h,{src:y,width:l.indexOf("%")!=-1?l:parseInt(l)||l,height:f.startHeight||"100%",scrolling:"no",id:"vkwidget"+o,allowTransparency:i.allowTransparency||!1,style:{overflow:"hidden"}}),e&&setTimeout(function(){e(h,b||h.firstChild,w)},10),o});VK.Util||(VK.Util={getPageData:function(){var i,f,e;if(!VK._pData){var t=document.getElementsByTagName("meta"),n={},r=["description","title","url","image","app_id"],u;for(i in t)if(t[i].getAttribute&&t[i].getAttribute&&((u=t[i].getAttribute("name"))||(u=t[i].getAttribute("property"))))for(f in r)(u==r[f]||u=="og:"+r[f]||u=="vk:"+r[f])&&(n[r[f]]=t[i].content);n.app_id&&!VK._apiId&&(VK._apiId=n.app_id);n.title=n.title||document.title||"";n.description=n.description||"";n.image=n.image||"";!n.url&&VK._iframeAppWidget&&VK._apiId&&(n.url="/app"+VK._apiId,VK._browserHash&&(n.url+=VK._browserHash));e=location.href.replace(/#.*$/,"");n.url&&n.url.indexOf(e)||(n.url=e);VK._pData=n}return VK._pData},getStyle:function(n,t){var i,u=document.defaultView||window,r,f;return u.getComputedStyle?(t=t.replace(/([A-Z])/g,"-$1").toLowerCase(),r=u.getComputedStyle(n,null),r&&(i=r.getPropertyValue(t))):n.currentStyle&&(f=t.replace(/\-(\w)/g,function(n,t){return t.toUpperCase()}),i=n.currentStyle[t]||n.currentStyle[f]),i},getXY:function(n,t){var i,r,u;if(n&&n!==undefined){if(i=0,r=0,n.getBoundingClientRect!==undefined)u=n.getBoundingClientRect(),i=u.left,r=u.top,t=!0;else if(n.offsetParent)do i+=n.offsetLeft,r+=n.offsetTop,t&&(i-=n.scrollLeft,r-=n.scrollTop);while(n=n.offsetParent);return t&&(r+=window.pageYOffset||window.scrollNode&&scrollNode.scrollTop||document.documentElement.scrollTop,i+=window.pageXOffset||window.scrollNode&&scrollNode.scrollLeft||document.documentElement.scrollLeft),[i,r]}},Loader:function self(n){self.loader||(self.loader=document.createElement("DIV"),self.loader.innerHTML='<style type="text/css">        @-webkit-keyframes VKWidgetsLoaderKeyframes {0%{opacity: 0.2;}30%{opacity: 1;}100%{opacity: 0.2;}}        @keyframes VKWidgetsLoaderKeyframes {0%{opacity: 0.2;}30%{opacity: 1;}100%{opacity: 0.2;}}        .VKWidgetsLoader div {width: 7px;height: 7px;-webkit-border-radius: 50%;-khtml-border-radius: 50%;-moz-border-radius: 50%;border-radius: 50%;background: #fff;top: 21px;position: absolute;z-index: 2;-o-transition: opacity 350ms linear; transition: opacity 350ms linear;opacity: 0.2;-webkit-animation-duration: 750ms;-o-animation-duration: 750ms;animation-duration: 750ms;-webkit-animation-name: VKWidgetsLoaderKeyframes;-o-animation-name: VKWidgetsLoaderKeyframes;animation-name: VKWidgetsLoaderKeyframes;-webkit-animation-iteration-count: infinite;-o-animation-iteration-count: infinite;animation-iteration-count: infinite;-webkit-transform: translateZ(0);transform: translateZ(0);}<\/style><div class="VKWidgetsLoader" style="position: fixed;left: 50%;top: 50%;margin: -25px -50px;z-index: 1002;height: 50px;width: 100px;"><div style="left: 36px;-webkit-animation-delay: 0ms;-o-animation-delay: 0ms;animation-delay: 0ms;"><\/div><div style="left: 47px;-webkit-animation-delay: 180ms;-o-animation-delay: 180ms;animation-delay: 180ms;"><\/div><div style="left: 58px;-webkit-animation-delay: 360ms;-o-animation-delay: 360ms;animation-delay: 360ms;"><\/div><span style="display: block;background-color: #000;-webkit-border-radius: 4px;-khtml-border-radius: 4px;-moz-border-radius: 4px;border-radius: 4px;-webkit-box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.35);-moz-box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.35);box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.35);position: absolute;left: 0;top: 0;bottom: 0; right: 0;z-index: 1;opacity: 0.7;"><\/span><\/div>',document.body.insertBefore(self.loader,document.body.firstChild));self.loader.style.display=n?"block":"none"},Box:function(n,t,i){var u;i=i||{};u=document.body.style.overflow;VK.Util.Loader(!0);var f=/(^|\.)(vk\.com|vkontakte\.ru)$/.test(location.hostname),e=new fastXDM.Server(VK.extend(i,{onInit:function(){r.style.background="transparent";r.style.visibility="visible";document.body.style.overflow="hidden";r.setAttribute("allowfullscreen",1);f&&(document.body.className+=" layers_shown");VK.Util.Loader()},hide:function(){r.style.display="none"},tempHide:function(){r.style.left="-10000px";r.style.top="-10000px";r.style.width="10px";r.style.height="10px";f&&(document.body.className=document.body.className.replace(/\b\s*?layers_shown\s*\b/," "));document.body.style.overflow=u},destroy:function(){try{r.src="about: blank;"}catch(n){}r.parentNode.removeChild(r);f&&(document.body.className=document.body.className.replace(/\b\s*?layers_shown\s*\b/," "));document.body.style.overflow=u},resize:function(){}},!0),!1,{safe:!0}),r=e.append(document.body,{src:n.replace(/&amp;/g,"&"),scrolling:"no",allowTransparency:!0,style:{position:"fixed",left:0,top:0,zIndex:1002,background:VK._protocol+"//vk.com/images/upload.gif center center no-repeat transparent",padding:"0",border:"0",width:"100%",height:"100%",overflow:"hidden",visibility:"hidden"}});return{show:function(){r.style.display="block";document.body.style.overflow="hidden"},hide:function(){r.style.display="none";document.body.style.overflow=u},iframe:r,rpc:e}},addEvent:function(n,t){window.document.addEventListener?window.document.addEventListener(n,t,!1):window.document.attachEvent&&window.document.attachEvent("on"+n,t)},removeEvent:function(n,t){window.document.removeEventListener?window.document.removeEventListener(n,t,!1):window.document.detachEvent&&window.document.detachEvent("on"+n,t)},ss:function(n,t){VK.extend(n.style,t,!0)}});VK.Retargeting||(VK.Retargeting={pixelCode:null,Init:function(n){this.pixelCode=n},Event:function(n){this.pixelCode&&((window.Image?new Image:document.createElement("img")).src="https://vk.com/rtrg?p="+this.pixelCode+(n?"&event="+n:""))},Hit:function(){this.Event()},Add:function(n){this.pixelCode&&n&&((window.Image?new Image:document.createElement("img")).src="https://vk.com/rtrg?p="+this.pixelCode+"&audience="+n)},ProductEvent:function(n,t,i){this.pixelCode&&t&&n&&((window.Image?new Image:document.createElement("img")).src="https://vk.com/rtrg?p="+this.pixelCode+"&products_event="+t+"&price_list_id="+n+(i?"&products_params="+encodeURIComponent(JSON.stringify(i)):""))}});window.vkAsyncInit&&setTimeout(vkAsyncInit,0);window.vkAsyncInitCallbacks&&vkAsyncInitCallbacks.length&&setTimeout(function(){for(var n;n=vkAsyncInitCallbacks.pop();)try{n()}catch(t){try{console.error(t)}catch(i){}}},0);try{stManager.done("api/openapi.js")}catch(e){}